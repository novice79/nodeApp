webpackJsonp([2,0],{0:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var a=n(186),o=s(a);n(246);var i=n(264),r=s(i);n(39),o.default.config.ignoredElements=["home","product"],n(247),n(255),window.vm=new o.default({el:"#app",template:"<App/>",components:{App:r.default}})},25:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(195),o=s(a),i=n(252),r=s(i),u=n(60),c=s(u),l=new c.default,d=void 0;e.default=new o.default(function(t,e){if(d)t(d);else var n=new r.default("MgrApp.db",{adapter:l,autoload:!0,autoloadCallback:function(){d={user:n.getCollection("user")?n.getCollection("user"):n.addCollection("user")},t(d)},autosave:!0,autosaveInterval:1e3})})},39:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(196),o=s(a),i=n(197),r=s(i),u=n(21),c=(s(u),n(1)),l=(s(c),n(257)),d=s(l),f=n(25),p=(s(f),function(){function t(){var e=this;(0,o.default)(this,t),document.addEventListener("deviceready",function(){e.sock=(0,d.default)("https://pay.cninone.com"),e.sock.on("connect",e.on_connect.bind(e)),e.sock.on("refresh_file_list",e.on_refresh_file_list.bind(e)),e.sock.on("update_order_state",e.on_update_order_state.bind(e))})}return(0,r.default)(t,[{key:"register_ui_evt",value:function(){var t=this;vm.$on("notify_seller_status",function(e){t.emit("notify_seller_status",e)})}},{key:"on_connect",value:function(){}},{key:"on_update_order_state",value:function(t){vm.$emit("update_order_state",t)}},{key:"on_refresh_file_list",value:function(t){vm.$emit("refresh_file_list","")}},{key:"emit",value:function(t,e,n){this.sock&&this.sock.emit(t,e,n)}}]),t}());e.default=new p},190:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(265),o=s(a),i=n(266),r=s(i);e.default={name:"app",data:function(){return{app:phonon.navigator()}},mounted:function(){var t=this;this.$nextTick(function(){phonon.options({navigator:{defaultPage:"home",animatePages:!0,enableBrowserBackButton:!0},i18n:null}),window.setTimeout(function(){t.app.start()},500)})},components:{Home:o.default,Product:r.default}}},191:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),o=(s(a),n(21)),i=(s(o),n(180)),r=(s(i),n(25)),u=(s(r),n(39)),c=(s(u),n(193));s(c);e.default={name:"PhononHomePage",props:{app:{type:Object}},created:function(){var t=this;this.$root.$on("on_qrcode",function(t){}),document.addEventListener("deviceready",function(){t.device_ready=!0,nodejs.channel.setListener(function(e){console.log("[cordova] received: "+e),t.node_msg=e}),nodejs.start("main.js",function(e){e?console.log(e):(console.log("Node.js Mobile Engine Started"),t.nodejs_started=!0)}),networkinterface.getWiFiIPAddress(function(e){t.address=e})},!1)},mounted:function(){this.app.on({page:"home",preventClose:!1,content:null},this)},data:function(){return{node_msg:"",nodejs_started:!1,address:"",device_ready:!1}},computed:{is_empty:function(){return""}},methods:{create_file:function(){nodejs.channel.send("create file")},exit_app:function(){navigator.app.exitApp()},register_user:function(t){},onReady:function(){}}}},192:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(186),o=(s(a),n(1)),i=(s(o),n(21)),r=(s(i),n(25)),u=s(r);e.default={name:"PhononProduct",props:{app:{type:Object}},data:function(){return{products:[],saved:!0}},mounted:function(){this.app.on({page:"product",preventClose:!0},this)},methods:{onReady:function(){this.fill_product()},onClose:function(t){if(this.saved)t.close();else{var e=phonon.confirm("商品信息尚未保存","确认离开吗？",!0,"确认","取消");e.on("confirm",function(){t.close()}),e.on("cancel",function(){})}},onHidden:function(){this.action=!0},onHashChanged:function(t){},save_item:function(t){var e=this;u.default.then(function(n){n.product.findAndUpdate({$loki:t.$loki},function(e){return t}),phonon.alert("商品信息修改成功","保存成功"),e.fill_product()})},delete_item:function(t){var e=this;u.default.then(function(n){n.product.remove(t),e.fill_product()})},fill_product:function(){var t=this;u.default.then(function(e){t.products=e.product.find({})})},add_product:function(){var t=this;u.default.then(function(e){t.products=e.product.insert({name:"测试商品",price:.01}),t.fill_product()})}}}},193:function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function a(t){var e="";return t&d.WX_FS&&(e="微信"),t&d.ALI_FS&&(e?e+="/支付宝":e="支付宝"),e}function o(t){return t&d.WX_FS}function i(t){return t&d.ALI_FS}function r(t){return t.split("").map(function(t){return t.charCodeAt(0)}).reduce(function(t,e){return t+((t<<7)+(t<<3))^e}).toString(16)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(180),c=(s(u),n(21)),l=(s(c),n(1)),d=(s(l),{WX_GZH:1,WX_ZS:2,WX_FS:4,WX_H5:8,ALI_WAP:16,ALI_ZS:32,ALI_FS:64,ALI_PAGE:128});e.default={ability_title:a,is_wx_capable:o,is_ali_capable:i,hash_str:r}},246:function(t,e){},247:function(t,e){},248:function(t,e){},249:function(t,e){},250:function(t,e){},253:function(t,e,n){function s(t){return n(a(t))}function a(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./af":61,"./af.js":61,"./ar":68,"./ar-dz":62,"./ar-dz.js":62,"./ar-kw":63,"./ar-kw.js":63,"./ar-ly":64,"./ar-ly.js":64,"./ar-ma":65,"./ar-ma.js":65,"./ar-sa":66,"./ar-sa.js":66,"./ar-tn":67,"./ar-tn.js":67,"./ar.js":68,"./az":69,"./az.js":69,"./be":70,"./be.js":70,"./bg":71,"./bg.js":71,"./bm":72,"./bm.js":72,"./bn":73,"./bn.js":73,"./bo":74,"./bo.js":74,"./br":75,"./br.js":75,"./bs":76,"./bs.js":76,"./ca":77,"./ca.js":77,"./cs":78,"./cs.js":78,"./cv":79,"./cv.js":79,"./cy":80,"./cy.js":80,"./da":81,"./da.js":81,"./de":84,"./de-at":82,"./de-at.js":82,"./de-ch":83,"./de-ch.js":83,"./de.js":84,"./dv":85,"./dv.js":85,"./el":86,"./el.js":86,"./en-au":87,"./en-au.js":87,"./en-ca":88,"./en-ca.js":88,"./en-gb":89,"./en-gb.js":89,"./en-ie":90,"./en-ie.js":90,"./en-nz":91,"./en-nz.js":91,"./eo":92,"./eo.js":92,"./es":95,"./es-do":93,"./es-do.js":93,"./es-us":94,"./es-us.js":94,"./es.js":95,"./et":96,"./et.js":96,"./eu":97,"./eu.js":97,"./fa":98,"./fa.js":98,"./fi":99,"./fi.js":99,"./fo":100,"./fo.js":100,"./fr":103,"./fr-ca":101,"./fr-ca.js":101,"./fr-ch":102,"./fr-ch.js":102,"./fr.js":103,"./fy":104,"./fy.js":104,"./gd":105,"./gd.js":105,"./gl":106,"./gl.js":106,"./gom-latn":107,"./gom-latn.js":107,"./gu":108,"./gu.js":108,"./he":109,"./he.js":109,"./hi":110,"./hi.js":110,"./hr":111,"./hr.js":111,"./hu":112,"./hu.js":112,"./hy-am":113,"./hy-am.js":113,"./id":114,"./id.js":114,"./is":115,"./is.js":115,"./it":116,"./it.js":116,"./ja":117,"./ja.js":117,"./jv":118,"./jv.js":118,"./ka":119,"./ka.js":119,"./kk":120,"./kk.js":120,"./km":121,"./km.js":121,"./kn":122,"./kn.js":122,"./ko":123,"./ko.js":123,"./ky":124,"./ky.js":124,"./lb":125,"./lb.js":125,"./lo":126,"./lo.js":126,"./lt":127,"./lt.js":127,"./lv":128,"./lv.js":128,"./me":129,"./me.js":129,"./mi":130,"./mi.js":130,"./mk":131,"./mk.js":131,"./ml":132,"./ml.js":132,"./mr":133,"./mr.js":133,"./ms":135,"./ms-my":134,"./ms-my.js":134,"./ms.js":135,"./mt":136,"./mt.js":136,"./my":137,"./my.js":137,"./nb":138,"./nb.js":138,"./ne":139,"./ne.js":139,"./nl":141,"./nl-be":140,"./nl-be.js":140,"./nl.js":141,"./nn":142,"./nn.js":142,"./pa-in":143,"./pa-in.js":143,"./pl":144,"./pl.js":144,"./pt":146,"./pt-br":145,"./pt-br.js":145,"./pt.js":146,"./ro":147,"./ro.js":147,"./ru":148,"./ru.js":148,"./sd":149,"./sd.js":149,"./se":150,"./se.js":150,"./si":151,"./si.js":151,"./sk":152,"./sk.js":152,"./sl":153,"./sl.js":153,"./sq":154,"./sq.js":154,"./sr":156,"./sr-cyrl":155,"./sr-cyrl.js":155,"./sr.js":156,"./ss":157,"./ss.js":157,"./sv":158,"./sv.js":158,"./sw":159,"./sw.js":159,"./ta":160,"./ta.js":160,"./te":161,"./te.js":161,"./tet":162,"./tet.js":162,"./th":163,"./th.js":163,"./tl-ph":164,"./tl-ph.js":164,"./tlh":165,"./tlh.js":165,"./tr":166,"./tr.js":166,"./tzl":167,"./tzl.js":167,"./tzm":169,"./tzm-latn":168,"./tzm-latn.js":168,"./tzm.js":169,"./uk":170,"./uk.js":170,"./ur":171,"./ur.js":171,"./uz":173,"./uz-latn":172,"./uz-latn.js":172,"./uz.js":173,"./vi":174,"./vi.js":174,"./x-pseudo":175,"./x-pseudo.js":175,"./yo":176,"./yo.js":176,"./zh-cn":177,"./zh-cn.js":177,"./zh-hk":178,"./zh-hk.js":178,"./zh-tw":179,"./zh-tw.js":179};s.keys=function(){return Object.keys(o)},s.resolve=a,t.exports=s,s.id=253},264:function(t,e,n){n(249);var s=n(38)(n(190),n(268),null,null);t.exports=s.exports},265:function(t,e,n){n(248);var s=n(38)(n(191),n(267),"data-v-70bb5a3f",null);t.exports=s.exports},266:function(t,e,n){n(250);var s=n(38)(n(192),n(269),"data-v-eb449e82",null);t.exports=s.exports},267:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("home",{attrs:{"data-page":"true"}},[n("header",{staticClass:"header-bar"},[n("div",{staticClass:"center"},[n("h1",{staticClass:"title"},[t._v("【音乐/书籍】 管理")])])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticStyle:{"justify-content":"space-around","margin-top":"10px"}},[t.nodejs_started&&t.address?n("div",[t._v(" nodejs服务监听在: http://"+t._s(t.address)+":8200 ")]):t._e(),t._v(" "),n("div",[t._v(t._s(t.node_msg))]),t._v(" "),n("button",{staticClass:"btn primary",staticStyle:{flex:"1","margin-top":"20px"},on:{click:function(e){e.preventDefault(),t.create_file()}}},[n("h3",{staticStyle:{display:"inline-block",margin:"auto"}},[t._v("\n          test create file\n        ")])]),t._v(" "),n("button",{staticClass:"btn negative",staticStyle:{flex:"1","margin-top":"20px"},on:{click:function(e){e.preventDefault(),t.exit_app()}}},[n("h3",{staticStyle:{display:"inline-block",margin:"auto"}},[t._v("\n          退出程序\n        ")])])])])])},staticRenderFns:[]}},268:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("home",{attrs:{app:t.app}}),t._v(" "),n("product",{attrs:{app:t.app}})],1)},staticRenderFns:[]}},269:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("product",{attrs:{"data-page":"true"}},[n("header",{staticClass:"header-bar"},[n("div",{staticClass:"center"},[n("button",{staticClass:"btn pull-left icon icon-arrow-back",attrs:{"data-navigation":"$previous-page"}}),t._v(" "),n("h1",{staticClass:"title"},[t._v("商品管理")])])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"padded-full"},[n("ul",{staticClass:"list"},t._l(t.products,function(e){return n("li",[n("div",{staticClass:"item"},[n("div",[n("div",{staticClass:"caption"},[t._v("名称：")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"p.name"}],attrs:{placeholder:"名称"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}})]),t._v(" "),n("div",[n("div",{staticClass:"caption"},[t._v("价格(元)：")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.price,expression:"p.price",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"价格(元)",onclick:"this.select()"},domProps:{value:e.price},on:{input:function(n){n.target.composing||t.$set(e,"price",t._n(n.target.value))},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",{staticClass:"opertion"},[n("button",{staticClass:"btn primary",on:{click:function(n){n.preventDefault(),t.save_item(e)}}},[t._v("保存")]),t._v(" "),n("button",{staticClass:"btn negative",on:{click:function(n){n.preventDefault(),t.delete_item(e)}}},[t._v("删除")])])])])})),t._v(" "),n("button",{staticClass:"btn fit-parent positive",staticStyle:{"margin-top":"15px"},on:{click:function(e){e.preventDefault(),t.add_product()}}},[t._v("添加商品")])])])])},staticRenderFns:[]}},270:function(t,e){}});
//# sourceMappingURL=app.4850120dce262d94ec88.js.map